<%- include('includes/sidenavsup.ejs') %>
  <!-- Para las rutas -->
  <h1 id="principal">Este sitio es el principal</h1><br>
  <input id="idE" value="<% idEmpleado %>" type="hidden">
  <!-- Verificar que sean los roles autorizados provenientes del index -->
  <% if (roles_autorizados.includes(rol)) { %>
    <!-- array de roles + el id del usuario -->
    <!-- si el rol esta en los autorizados, se muestra misMentorados -->
    <p>Mis mentorados:</p>
    <a href="/users/misMentorados"><button type="button" class="btn btn-outline-secondary">Mis Mentorados</button></a>
    <br><br>
    <% } %>

      <div id="chart-container">
        <canvas id="mycanvas"></canvas>
      </div>

      <button type="button" class="btn btn-primary" id="b1">Gr√°ficas</button>

      <script>
        console.log(document.getElementById("idE").value);
        console.log("abc1");

        const graficas = () => {

          console.log("a");

          const new_id = document.getElementById("idE");
          console.log(new_id);

          fetch('/users/tops/' + new_id, {
            method: 'GET',
            headers: {
              'Content-Type': 'application/json',
              //'csrf-token': csrf
            }
          }).then(result => {
            return result.json();
          }).then(data => {

            console.log(data);

            /*for (let d of data) {
            }*/

          }).catch(err => {
            console.log(err);

          });
        };

        document.getElementById("b1").onclick = graficas;
      </script>

      <!-- javascript -->
      <!--script type="text/javascript" src="js/jquery.min.js"></script-->
      <script type="text/javascript" src="js/Chart.min.js"></script>
      <script type="text/javascript" src="js/app.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
        integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
        crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
        integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
        crossorigin="anonymous"></script>

      <%- include('includes/foot.ejs') %>